<!DOCTYPE html>
<html lang="en">
<head>
   <link rel="shortcut icon"  href="/public/uploads/website-images/favicon-2023-03-05-01-07-01-8002.png"  type="image/x-icon">
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" name="viewport">
  <title>POS</title>
  <title>Login</title>


  <link rel="stylesheet" href="/public/backend/css/bootstrap.min.css">
  <link href="/public/backend/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/public/backend/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="/public/backend/css/style.css">
  <link rel="stylesheet" href="/public/backend/css/bootstrap-social.css">
  <link rel="stylesheet" href="/public/backend/css/components.css">
    <link rel="stylesheet" href="/public/toastr/toastr.min.css">
  <link rel="stylesheet" href="/public/backend/css/bootstrap4-toggle.min.css">
  <link rel="stylesheet" href="/public/backend/css/dev.css">
  <link rel="stylesheet" href="/public/backend/css/select2.min.css">
  <link rel="stylesheet" href="/public/backend/css/tagify.css">
  <link rel="stylesheet" href="/public/backend/css/bootstrap-tagsinput.css">
  <link rel="stylesheet" href="/public/backend/css/fontawesome-iconpicker.min.css">
  <link rel="stylesheet" href="/public/backend/css/bootstrap-datepicker.min.css">
  <link rel="stylesheet" href="/public/backend/clockpicker/dist/bootstrap-clockpicker.css">
  <link rel="stylesheet" href="/public/backend/datetimepicker/jquery.datetimepicker.css">
  <link rel="stylesheet" href="/public/backend/css/iziToast.min.css">

  <script src="/public/backend/js/jquery-3.6.3.min.js"></script>

  <script src="/public/backend/minicolor/jquery.minicolors.js"></script>
  <link rel="stylesheet" href="/public/backend/minicolor/jquery.minicolors.css">

<style>
    .fade.in {
        opacity: 1 !important;
    }

    .tox .tox-promotion,
    .tox-statusbar__branding{
        display: none !important;
    }

</style>

<style>
    dl {
      margin: 20px 0;
    }
    dt {
      font-size: 120%;
    }
    dd {
      padding: 10px 20px 20px 20px;
    }
    dd:last-child {
      border-bottom: none;
    }
    code {
      color: black;
      border: none;
      background: rgba(128, 128, 128, .1);
    }
    [dir=rtl] code {
      direction: ltr;
    }
    pre {
      background: #f8f8f8;
      border: none;
      color: #333;
      padding: 20px;
    }
    [dir=rtl] pre {
      direction: ltr;
    }
    h2 {
      margin-top: 50px;
    }
    h3 {
      color: #aaa;
    }
    .jumbotron {
      padding: 40px;
    }
    .jumbotron h1 {
      margin-top: 0;
    }
    .jumbotron p:last-child {
      margin-bottom: 0;
    }

    .minicolors-theme-bootstrap .minicolors-input {
      padding-left: 44px !important;
    }

    .minicolors-theme-bootstrap .minicolors-swatch {
        top: 7px !important;
    }

  </style>

</head>
<body>
  <div id="app">
    <div class="main-wrapper">
      <div class="navbar-bg"></div>
      <nav class="navbar navbar-expand-lg main-navbar">
        <div class="form-inline mr-auto">
          <ul class="navbar-nav mr-3">
            <li><a href="#" data-toggle="sidebar" class="nav-link nav-link-lg custom_click"><i class="fas fa-bars"></i></a></li>
            <li><a href="#" data-toggle="search" class="nav-link nav-link-lg d-sm-none"><i class="fas fa-search"></i></a></li>
          </ul>
        </div>
        <ul class="navbar-nav navbar-right">
          <li class="dropdown dropdown-list-toggle"><a target="_blank" href="https://unifood.websolutionus.com" class="nav-link nav-link-lg"><i class="fas fa-home"></i> Visit Website</i></a>

          </li>
          <li class="dropdown dropdown-list-toggle">
            <form id="setLanguage" action="set-language">
                <select class="form-control select2" name="code">
                  <option value="">Select Language</option>
                                        <option value="en"selected>English</option>
                                        <option value="bn">Bangla</option>
                                        <option value="ar">Arabic</option>
                                    </select>
            </form>
          </li>

                    <li class="dropdown"><a href="#" data-toggle="dropdown" class="nav-link dropdown-toggle nav-link-lg nav-link-user">
                            <img alt="image" src="/public/uploads/website-images/john-doe-2023-03-05-01-05-25-5417.jpg" class="rounded-circle mr-1">
                          <div class="d-sm-none d-lg-inline-block">John Doe</div></a>
            <div class="dropdown-menu dropdown-menu-right">

              <a href="admin/profile" class="dropdown-item has-icon">
                <i class="far fa-user"></i> Profile
              </a>
              <div class="dropdown-divider"></div>
              <a href="admin/logout" class="dropdown-item has-icon text-danger" onclick="event.preventDefault();
              document.getElementById('admin-logout-form').submit();">
                <i class="fas fa-sign-out-alt"></i> Logout
              </a>
            
            <form id="admin-logout-form" action="admin/logout" method="POST" class="d-none">
                <input type="hidden" name="_token" value="lUrV1BomdDlHwZi8obIaCpNTUjv0xeijDeW1GykM" autocomplete="off">            </form>
            


            </div>
          </li>
        </ul>
      </nav>

      <div class="main-sidebar">
    <aside id="sidebar-wrapper">
      <div class="sidebar-brand">
        <a href="admin/dashboard">UniFood</a>
      </div>
      <div class="sidebar-brand sidebar-brand-sm">
        <a href="admin/dashboard">Un</a>
      </div>

      <ul class="sidebar-menu">

          <li class=""><a class="nav-link" href="admin/dashboard"><i class="fas fa-home"></i> <span>Dashboard</span></a></li>

          <li class="active"><a class="nav-link" href="admin/pos"><i class="fas fa-th-large"></i> <span>POS</span></a></li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-shopping-cart"></i><span>Orders</span></a>
            <ul class="dropdown-menu">

              <li class=""><a class="nav-link" href="admin/all-order">All Orders</a></li>


              <li class=""><a class="nav-link" href="admin/pending-order">Pending Orders</a></li>

              <li class=""><a class="nav-link" href="admin/pregress-order">Progress Orders</a></li>

              <li class=""><a class="nav-link" href="admin/delivered-order">Delivered Orders</a></li>

              <li class=""><a class="nav-link" href="admin/completed-order">Completed Orders</a></li>

              <li class=""><a class="nav-link" href="admin/declined-order">Declined Orders</a></li>

              <li class=""><a class="nav-link" href="admin/cash-on-delivery">Cash On Delivery</a></li>

            </ul>

          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-th-large"></i><span>Manage Restaurant</span></a>
            <ul class="dropdown-menu">

                <li><a class="nav-link" href="admin/product/create">Create Product</a></li>

                <li class=""><a class="nav-link" href="admin/product">Products</a></li>

                <li class=""><a class="nav-link" href="admin/product-category">Categories</a></li>

                <li class=""><a class="nav-link" href="admin/reservation">Reservations</a></li>


                <li class=""><a class="nav-link" href="admin/product-review">Product Reviews</a></li>

            </ul>
          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-shopping-cart"></i><span>Ecommerce</span></a>
            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/coupon">Coupon</a></li>

                <li class=""><a class="nav-link" href="admin/payment-method">Payment Method</a></li>

                <li class=""><a class="nav-link" href="admin/delivery-area">Delivery Area</a></li>

            </ul>
          </li>

          <li class=""><a class="nav-link" href="admin/advertisement"><i class="fas fa-ad"></i> <span>Advertisement</span></a></li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-users"></i><span>Our Customers</span></a>
            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/customer-list">Customer List</a></li>

                <li class=""><a class="nav-link" href="admin/pending-customer-list">Pending Customers</a></li>

            </ul>
          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-shopping-cart"></i><span>Section</span></a>
            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/service">Service</a></li>

                <li class=""><a class="nav-link" href="admin/slider">Slider</a></li>

                <li class=""><a class="nav-link" href="admin/counter">Counter</a></li>

                <li class=""><a class="nav-link" href="admin/partner">Partner</a></li>

                <li class=""><a class="nav-link" href="admin/app-section">App Section</a></li>

            </ul>
          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-globe"></i><span>Manage Website</span></a>

            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/seo-setup">SEO Setup</a></li>

                <li class=""><a class="nav-link" href="admin/maintainance-mode">Maintainance Mode</a></li>

                <li class=""><a class="nav-link" href="admin/default-avatar">Default Avatar</a></li>

                <li class=""><a class="nav-link" href="admin/breadcrumb-image">Breadcrumb Image</a></li>

            </ul>
          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-th-large"></i><span>Header and Footer</span></a>
            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/footer">Footer</a></li>

                <li class=""><a class="nav-link" href="admin/social-link">Social Link</a></li>
            </ul>
          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-columns"></i><span>Pages</span></a>
            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/homepage">Homepage</a></li>

                <li class=""><a class="nav-link" href="admin/about-us">About Us</a></li>

                <li class=""><a class="nav-link" href="admin/contact-us">Contact Us</a></li>

                <li class=""><a class="nav-link" href="admin/testimonial">Testimonial</a></li>

                <li class=""><a class="nav-link" href="admin/our-chef">Our Chef</a></li>

                <li class=""><a class="nav-link" href="admin/custom-page">Custom Page</a></li>

                <li class=""><a class="nav-link" href="admin/terms-and-condition">Terms And Conditions</a></li>

                <li class=""><a class="nav-link" href="admin/privacy-policy">Privacy Policy</a></li>

                <li class=""><a class="nav-link" href="admin/faq">FAQ</a></li>

                <li class=""><a class="nav-link" href="admin/error-page">Error Page</a></li>

                <li class=""><a class="nav-link" href="admin/login-page">Login / Register Page</a></li>

            </ul>
          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-th-large"></i><span>Blogs</span></a>
            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/blog-category">Categories</a></li>

                <li class=""><a class="nav-link" href="admin/blog">Blogs</a></li>

                <li class=""><a class="nav-link" href="admin/popular-blog">Popular Blogs</a></li>

                <li class=""><a class="nav-link" href="admin/blog-comment">Comments</a></li>

            </ul>
          </li>

          <li class="nav-item dropdown ">
            <a href="#" class="nav-link has-dropdown"><i class="fas fa-envelope"></i><span>Email Configuration</span></a>
            <ul class="dropdown-menu">

                <li class=""><a class="nav-link" href="admin/email-configuration">Setting</a></li>

                <li class=""><a class="nav-link" href="admin/email-template">Email Template</a></li>

            </ul>
          </li>

          <li class=""><a class="nav-link" href="admin/languages"><i class="fas fa-language"></i>Manage Language</a></li>

          <li class=""><a class="nav-link" href="admin/general-setting"><i class="fas fa-cog"></i> <span>Setting</span></a></li>
          
                      <li  class=""><a class="nav-link" href="admin/clear-database"><i class="fas fa-trash"></i> <span>Clear Database</span></a></li>
          
          <li class=""><a class="nav-link" href="admin/subscriber"><i class="fas fa-fire"></i> <span>Subscribers</span></a></li>

          <li class=""><a class="nav-link" href="admin/contact-message"><i class="fas fa-fa fa-envelope"></i> <span>Contact Message</span></a></li>

                      <li class=""><a class="nav-link" href="admin/admin"><i class="fas fa-user"></i> <span>Admin list</span></a></li>
          
        </ul>
    </aside>

  </div>


            <!-- Main Content -->
    <div class="main-content">
        <section class="section">
            <div class="section-header">
                <h1>POS</h1>
            </div>

            <div class="section-body">
                <div class="row mt-4">
                    <div class="col-md-7">
                        <div class="card"> 
                            <div class="card-header">
                                <form id="product_search_form" class="pos_pro_search_form">
                                    <div class="row">
                                        <div class="col-md-7">
                                            <input type="text" class="form-control" name="name" placeholder="Search here.." autocomplete="off" value="">
                                        </div>
                                        <div class="col-md-3">
                                            <select name="category_id" id="category_id" class="form-control">
                                                <option value="">Select Category</option>
                                                                                                                                                        <option value="1">Burger</option>
                                                                                                        <option value="2">Chicken</option>
                                                                                                        <option value="3">Pizza</option>
                                                                                                        <option value="4">Dresserts</option>
                                                                                                        <option value="5">Sandwich</option>
                                                                                                        <option value="7">Burrito</option>
                                                                                                        <option value="8">Cheeseburger</option>
                                                                                                        <option value="9">Muffin</option>
                                                                                                    
                                            </select>
                                        </div>
                                        <div class="col-md-1">
                                            <button type="submit" class="btn btn-primary" id="search_btn_text">Search</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="card-body product_body">

                            </div>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="card">
                            <div class="card-header pos_sidebar_button">
                                <div class="row w-100">
                                    <div class="col-md-9">
                                        <select name="customer_id" id="customer_id" class="form-control select2">
                                                <option value="">Select Customer</option>
                                                                                            <option value="3">Nabin ul haq - 123456874</option>
                                                                                            <option value="2">Ibrahim Khalil - 32112344</option>
                                                                                            <option value="1">John Doe - 123-343-4444</option>
                                                                                    </select>
                                    </div>
                                    <div class="col-md-3">
                                        <button data-toggle="modal" data-target="#createNewUser" type="button" class="btn btn-primary"><i class="fa fa-plus" aria-hidden="true"></i>New</button>
                                    </div>
                                </div>
                            </div>

                            <div class="card-body">
                                <h5>
                                    <i class="fa fa-user" aria-hidden="true"></i> Delivery Information
                                <button id="createNewAddressBtn" class="btn btn-primary btn-sm"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                </h5>
                                <div class="shopping-card-body">
                                    <table class="table">
                                        <thead>
                                            <th>Item</th>
                                            <th>Qty</th>
                                            <th>Price</th>
                                            <th>Action</th>
                                        </thead>
                                        <tbody>
                                                                                        
                                        </tbody>
                                    </table>

                                    <div>
                                        <p><span>Subtotal</span> : <span>$0</span></p>
                                        <p><span>Delivery</span> : <span id="report_delivery_fee">$0.00</span></p>
                                        <p><span>Total</span> : <span id="report_total_fee">$0</span></p>
                                    </div>

                                    <input type="hidden" id="cart_sub_total" value="0">
                                </div>

                                <div>
                                    <button id="placeOrderBtn" class="btn btn-success">Place order</button>
                                    <a href="admin/pos/cart-clear" class="btn btn-danger">Reset</a>
                                </div>

                                <form id="placeOrderForm" action="admin/pos/place-order" method="POST">
                                    <input type="hidden" name="_token" value="lUrV1BomdDlHwZi8obIaCpNTUjv0xeijDeW1GykM" autocomplete="off">                                    <input type="hidden" value="0" name="sub_total" id="order_sub_total">
                                    <input type="hidden" value="" name="customer_id" id="order_customer_id">
                                    <input type="hidden" value="" name="address_id" id="order_address_id">
                                    <input type="hidden" value="0.00" name="delivery_fee" id="order_delivery_fee">
                                    <input type="hidden" value="0" name="total_fee" id="order_total_fee">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>


    <!-- Product Modal -->
    <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                        </div>
                <div class="modal-body">
                    <div class="container-fluid load_product_modal_response">

                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Create new user modal -->
    <div class="modal pos_sidebar fade" id="createNewUser" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                    <div class="modal-header">
                            <h5 class="modal-title">Create new customer</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                        </div>
                <div class="modal-body">
                    <div class="container-fluid">
                       <form id="createNewUserForm" method="POST">
                        <input type="hidden" name="_token" value="lUrV1BomdDlHwZi8obIaCpNTUjv0xeijDeW1GykM" autocomplete="off">                            <div class="form-group">
                                <label for="">Name <span class="text-danger">*</span></label>
                                <input type="text" name="name" autocomplete="off" class="form-control">
                            </div>

                            <div class="form-group">
                                <label for="">Email <span class="text-danger">*</span></label>
                                <input type="email" name="email" autocomplete="off" class="form-control">
                            </div>

                            <div class="form-group">
                                <label for="">Phone <span class="text-danger">*</span></label>
                                <input type="text" name="phone" autocomplete="off" class="form-control">
                            </div>


                            <button class="btn btn-primary" type="submit">Save</button>

                       </form>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Create New Address Modal -->
    <div class="modal fade" id="newAddress" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                    <div class="modal-header">
                            <h5 class="modal-title">New address</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                        </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <form id="add_new_address_form" method="POST">
                            <input type="hidden" name="_token" value="lUrV1BomdDlHwZi8obIaCpNTUjv0xeijDeW1GykM" autocomplete="off">                            <div class="row">

                                <input type="hidden" name="customer_id" value="" id="address_customer_id">
                                <div class="form-group col-12">
                                    <label for="">Delivery area *</label>
                                    <select name="delivery_area_id" class="select2">
                                        <option value="">Select Delivery Area</option>
                                                                                    <option value="1">Arizona State University West Campus</option>
                                                                                    <option value="2">Thunderbird Paseo Park</option>
                                                                                    <option value="3">Metrocenter Mall</option>
                                                                                    <option value="4">Reach 11 Recreation Area</option>
                                                                                    <option value="5">Pioneer Community Park</option>
                                                                                    <option value="6">Deer Valley Rock Art Center</option>
                                                                                    <option value="7">Cave Creek Regional Park</option>
                                                                                    <option value="8">Turf Soaring School</option>
                                                                            </select>
                                </div>

                                <div class="col-md-6 col-lg-12 col-xl-6 form-group">
                                    <label for="">First Name *</label>
                                    <input class="form-control" type="text" placeholder="First Name" name="first_name">
                                </div>
                                <div class="col-md-6 col-lg-12 col-xl-6 form-group">
                                    <label for="">Last Name *</label>
                                    <input class="form-control" type="text" placeholder="Last Name" name="last_name">
                                </div>

                                <div class="col-md-6 col-lg-12 col-xl-6 form-group">

                                    <label for="">Phone</label>
                                    <input class="form-control" type="text" placeholder="Phone" name="phone">
                                </div>
                                <div class="col-md-6 col-lg-12 col-xl-6 form-group">
                                    <label for="">Email</label>
                                    <input class="form-control" type="email" placeholder="Email" name="email">
                                </div>
                                <div class="col-md-12 col-lg-12 col-xl-12 form-group">
                                    <label for="">Address *</label>
                                    <textarea class="form-control height_auto" name="address" cols="3" rows="4"
                                            placeholder="Address"></textarea>
                                </div>
                                <div class="col-12 form-group">
                                    <div class="wsus__check_single_form check_area d-flex flex-wrap">
                                        <div class="form-check mr-3">
                                            <input value="home" class="form-check-input" type="radio"
                                                name="address_type" id="flexRadioDefault1">
                                            <label class="form-check-label"
                                                for="flexRadioDefault1">
                                                Home
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input value="office" class="form-check-input" type="radio"
                                                name="address_type" id="flexRadioDefault2">
                                            <label class="form-check-label"
                                                for="flexRadioDefault2">
                                                Office
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">

                                    <button type="submit" class="btn btn-primary">Save Address</button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>

            </div>
        </div>
    </div>




<script>



    (function($) {
        "use strict";
        $(document).ready(function () {
            loadProudcts()
            $(".pos_input_qty").on("change keyup", function(e){

                let quantity = $(this).val();
                let parernt_td = $(this).parents('td');
                let rowid = parernt_td.data('rowid')

                $.ajax({
                    type: 'get',
                    data: {rowid, quantity},
                    url: "admin/pos/cart-quantity-update",
                    success: function (response) {
                        $(".shopping-card-body").html(response)
                        calculateTotalFee();
                    },
                    error: function(response) {
                        if(response.status == 500){
                            toastr.error("Server error occured")
                        }

                        if(response.status == 403){
                            toastr.error("Server error occured")
                        }
                    }
                });

            });

            $("#customer_id").on("change", function(){
                let customer_id = $(this).val();
                $("#address_customer_id").val(customer_id);
                $("#order_customer_id").val(customer_id);
            })

            $("#createNewAddressBtn").on("click", function(){
                let customer_id = $("#customer_id").val();
                if(customer_id){
                    $("#newAddress").modal('show');
                }else{
                    toastr.error("Please select a customer")
                }

            })

            $("#add_new_address_form").on("submit", function(e){
                e.preventDefault();

                var isDemo = "0"
                if(isDemo == 0){
                    toastr.error('This Is Demo Version. You Can Not Change Anything');
                    return;
                }

                $.ajax({
                    type: 'POST',
                    data: $('#add_new_address_form').serialize(),
                    url: "admin/pos/create-new-address",
                    success: function (response) {
                        toastr.success(response.message)
                        $("#add_new_address_form").trigger("reset");

                        $("#order_address_id").val(response.address.id);
                        $("#order_delivery_fee").val(response.delivery_fee);

                        $("#newAddress").modal('hide');

                        calculateTotalFee();

                    },
                    error: function(response) {
                        if(response.status == 422){
                            if(response.responseJSON.errors.first_name)toastr.error(response.responseJSON.errors.first_name[0])
                            if(response.responseJSON.errors.last_name)toastr.error(response.responseJSON.errors.last_name[0])
                            if(response.responseJSON.errors.address)toastr.error(response.responseJSON.errors.address[0])
                            if(response.responseJSON.errors.address_type)toastr.error(response.responseJSON.errors.address_type[0])
                            if(response.responseJSON.errors.delivery_area_id)toastr.error(response.responseJSON.errors.delivery_area_id[0])
                            if(response.responseJSON.errors.customer_id)toastr.error(response.responseJSON.errors.customer_id[0])

                        }

                        if(response.status == 500){
                            toastr.error("Server error occured")
                        }

                        if(response.status == 403){
                            toastr.error(response.responseJSON.message);
                        }

                    }
                });

            })

            $("#placeOrderBtn").on("click", function(){

                let customer_id = $("#order_customer_id").val();
                if(!customer_id){
                    toastr.error("Please select a customer")
                    return;
                }

                let address_id = $("#order_address_id").val();
                if(!address_id){
                    toastr.error("Please select a address")
                    return;
                }

                $("#placeOrderForm").submit();



            })

            $("#createNewUserForm").on("submit", function(e){
                e.preventDefault();

                var isDemo = "0"
                if(isDemo == 0){
                    toastr.error('This Is Demo Version. You Can Not Change Anything');
                    return;
                }

                $.ajax({
                    type: 'POST',
                    data: $('#createNewUserForm').serialize(),
                    url: "admin/pos/create-new-customer",
                    success: function (response) {
                        toastr.success(response.message)
                        $("#createNewUserForm").trigger("reset");
                        $("#createNewUser").modal('hide');

                        $("#customer_id").html(response.customer_html)

                    },
                    error: function(response) {
                        if(response.status == 422){
                            if(response.responseJSON.errors.name)toastr.error(response.responseJSON.errors.name[0])
                            if(response.responseJSON.errors.email)toastr.error(response.responseJSON.errors.email[0])
                            if(response.responseJSON.errors.phone)toastr.error(response.responseJSON.errors.phone[0])

                        }

                        if(response.status == 500){
                            toastr.error("Server error occured")
                        }

                        if(response.status == 403){
                            toastr.error(response.responseJSON.message);
                        }

                    }
                });

            })

            $("#product_search_form").on("submit", function(e){
                e.preventDefault();

                $("#search_btn_text").html(`Searching...`)

                $.ajax({
                    type: 'get',
                    data: $('#product_search_form').serialize(),
                    url: "admin/pos/load-products",
                    success: function (response) {
                        $("#search_btn_text").html(`Search`)
                        $(".product_body").html(response)
                    },
                    error: function(response) {
                        $("#search_btn_text").html(`Search`)

                        if(response.status == 500){
                            toastr.error("Server error occured")
                        }

                        if(response.status == 403){
                            toastr.error(response.responseJSON.message);
                        }

                    }
                });
            })



        });
    })(jQuery);

    function load_product_model(product_id){

        $.ajax({
            type: 'get',
            url: "admin/pos/load-product-modal" + "/" + product_id,
            success: function (response) {
                $(".load_product_modal_response").html(response)
                $("#cartModal").modal('show');
            },
            error: function(response) {
                toastr.error("Server error occured")
            }
        });
    }

    function removeCartItem(rowId){

        $.ajax({
            type: 'get',
            url: "admin/pos/remove-cart-item" + "/" + rowId,
            success: function (response) {
                $(".shopping-card-body").html(response)

                calculateTotalFee();
                toastr.success("Remove successfully")
            },
            error: function(response) {
                toastr.error("Server error occured")
            }
        });
    }

    function calculateTotalFee(){

        let order_delivery_fee = $("#order_delivery_fee").val();
        let cart_sub_total = $("#cart_sub_total").val();

        let order_total_fee = parseInt(order_delivery_fee) + parseInt(cart_sub_total);
        $("#order_total_fee").val(cart_sub_total);

        let order_sub_total = $("#order_sub_total").val();

        $("#report_delivery_fee").html(`$${order_delivery_fee}`);
        $("#report_total_fee").html(`$${order_total_fee}`);

    }

    function loadProudcts(){
        $.ajax({
            type: 'get',
            url: "admin/pos/load-products",
            success: function (response) {
                $(".product_body").html(response)
            },
            error: function(response) {
                toastr.error("Server error occured")
            }
        });
    }

    function loadPagination(url){
        $.ajax({
            type: 'get',
            url: url,
            success: function (response) {
                $(".product_body").html(response)
            },
            error: function(response) {
                toastr.error("Server error occured")
            }
        });
    }





</script>


      <footer class="main-footer">
        <div class="footer-left">
          Â©2024 websolutionus All rights reserved
        </div>
        <div class="footer-right">

           App Version : 2.1

        </div>
      </footer>
    </div>
  </div>

  <div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Item Delete Confirmation</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Are You sure delete this item ?</p>
        </div>
        <div class="modal-footer bg-whitesmoke br">
            <form id="deleteForm" action="" method="POST">
                <input type="hidden" name="_token" value="lUrV1BomdDlHwZi8obIaCpNTUjv0xeijDeW1GykM" autocomplete="off">                <input type="hidden" name="_method" value="DELETE">                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Yes, Delete</button>
            </form>
        </div>
      </div>
    </div>
  </div>




  <script src="/public/backend/js/popper.min.js"></script>
  <script src="/public/backend/js/bootstrap.min.js"></script>
  <script src="/public/backend/datatables/jquery.dataTables.min.js"></script>
  <script src="/public/backend/datatables/dataTables.bootstrap4.min.js"></script>
  <script src="/public/backend/js/jquery.nicescroll.min.js"></script>
  <script src="/public/backend/js/moment.min.js"></script>
  <script src="/public/backend/js/stisla.js"></script>
  <script src="/public/backend/js/scripts.js"></script>
  <script src="/public/backend/js/select2.min.js"></script>
  <script src="/public/backend/js/tagify.js"></script>
  <script src="/public/toastr/toastr.min.js"></script>
  <script src="/public/backend/js/bootstrap4-toggle.min.js"></script>
  <script src="/public/backend/js/fontawesome-iconpicker.min.js"></script>
  <script src="/public/backend/js/bootstrap-datepicker.min.js"></script>
  <script src="/public/backend/clockpicker/dist/bootstrap-clockpicker.js"></script>
  <script src="/public/backend/datetimepicker/jquery.datetimepicker.js"></script>
  <script src="/public/backend/js/iziToast.min.js"></script>
  <script src="/public/backend/js/modules-toastr.js"></script>
  <script src="/public/backend/tinymce/js/tinymce/tinymce.min.js"></script>


    <script>
            </script>

    


<script>
    (function($) {
    "use strict";
    $(document).ready(function () {
        tinymce.init({
            selector: '.summernote',
            plugins: 'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount checklist mediaembed casechange export formatpainter pageembed linkchecker a11ychecker tinymcespellchecker permanentpen powerpaste advtable advcode editimage tinycomments tableofcontents footnotes mergetags autocorrect typography inlinecss',
            toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat',
            tinycomments_mode: 'embedded',
            tinycomments_author: 'Author name',
            mergetags_list: [
                { value: 'First.Name', title: 'First Name' },
                { value: 'Email', title: 'Email' },
            ]
        });
        $('#dataTable').DataTable();
        $('.select2').select2();
        $('.sub_cat_one').select2();
        $('.tags').tagify();
        $('.datetimepicker_mask').datetimepicker({
            format:'Y-m-d H:i',

        });
        $('.custom-icon-picker').iconpicker({
            templates: {
                popover: '<div class="iconpicker-popover popover"><div class="arrow"></div>' +
                    '<div class="popover-title"></div><div class="popover-content"></div></div>',
                footer: '<div class="popover-footer"></div>',
                buttons: '<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button>' +
                    ' <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',
                search: '<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',
                iconpicker: '<div class="iconpicker"><div class="iconpicker-items"></div></div>',
                iconpickerItem: '<a role="button" href="javascript:;" class="iconpicker-item"><i></i></a>'
            }
        })
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd',
            startDate: '-Infinity'
        });
        $('.clockpicker').clockpicker();
        
        $("#setLanguage").on('change', function(e){
            this.submit();
        });

    });

    })(jQuery);
</script>

</body>
</html>
