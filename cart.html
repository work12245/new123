<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densityDpi=device-dpi" />

        <title>Shopping Cart</title>
        <meta name="description" content="Shopping Cart">

    <link rel="icon" type="image/png" href="public/uploads/website-images/favicon-2023-03-05-01-07-01-8002.png">
    <link rel="stylesheet" href="public/user/css/all.min.css">
    <link rel="stylesheet" href="public/user/css/bootstrap.min.css">
    <link rel="stylesheet" href="public/user/css/spacing.css">
    <link rel="stylesheet" href="public/user/css/slick.css">
    <link rel="stylesheet" href="public/user/css/nice-select.css">
    <link rel="stylesheet" href="public/user/css/venobox.min.css">
    <link rel="stylesheet" href="public/user/css/animate.css">
    <link rel="stylesheet" href="public/user/css/jquery.exzoom.css">
    <link rel="stylesheet" href="public/toastr/toastr.min.css">
    <link rel="stylesheet" href="public/user/css/style.css">
    <link rel="stylesheet" href="public/user/css/responsive.css">
    <link rel="stylesheet" href="public/backend/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="public/backend/css/select2.min.css">


    <style>
    :root {
    --colorPrimary: #eb0029;
    --paraColor: #494949;
    --colorBlack: #010f1c;
    --colorWhite: #ffffff;
    --paraFont: 'Barlow', sans-serif;
    --headingFont: 'Jost', sans-serif;
    --cursiveFont: 'Lobster', cursive;
    --boxShadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
    --gradiantBg: rgb(156, 3, 30)linear-gradient(0deg, rgba(156, 3, 30, 1) 0%, rgba(235, 0, 41, 1) 100%);
    --gradiantHoverBg: rgb(235, 0, 41)linear-gradient(0deg, rgba(235, 0, 41, 1) 0%, rgba(156, 3, 30, 1) 100%);
}


.footer_overlay{
    background: #b90424fa !important;
}


.topbar_icon li a {
    background: #ca0628 !important;
}

</style>
    
    <!--jquery library js-->
    <script src="public/user/js/jquery-3.6.3.min.js"></script>
    <script src="public/user/js/sweetalert2@11.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>


        <script async src="https://www.googletagmanager.com/gtag/js?id=5248-fd-5fds"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '5248-fd-5fds');
    </script>
    
            <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', 'fsdf45sdf4sdf');
        fbq('track', 'PageView');
        </script>
        <noscript><img height="1" width="1" style="display:none"
        src="https://www.facebook.com/tr?id=fsdf45sdf4sdf&ev=PageView&noscript=1"
    /></noscript>
    

</head>

<body>

    <div class="" id="preloader">
        <div class="img d-none">
            <img src="public/uploads/website-images/Spinner.gif" alt="UniFood" class="img-fluid">
        </div>
    </div>

    <!--=============================
        TOPBAR START
    ==============================-->
    <section class="wsus__topbar">
        <div class="container">
            <div class="row">
                <div class="col-xl-6 col-md-6 d-none d-md-block">
                    <ul class="wsus__topbar_info d-flex flex-wrap">
                        <li><a href="mailto:websolutionus1@gmail.com"><i class="fas fa-envelope"></i> websolutionus1@gmail.com</a>
                        </li>
                        <li><a href="callto:+1347-430-9510"><i class="fas fa-phone-alt"></i> +1347-430-9510</a></li>
                    </ul>
                </div>
                <div class="col-xl-6 col-md-6">
                    <div class="topbar_right">
                        <div class="topbar_language">
                            <form id="setLanguage" action="https://unifood.websolutionus.com/set-language">
                                <select id="select_js3" name="code">
                                                                        <option value="en"selected>English</option>
                                                                        <option value="bn">Bangla</option>
                                                                        <option value="ar">Arabic</option>
                                                                    </select>
                            </form>
                        </div>
                        <ul class="topbar_icon d-flex flex-wrap">
                                                        <li><a href="https://www.facebook.com/"><i class="fab fa-facebook-f"></i></a></li>
                                                        <li><a href="https://www.twitter.com/"><i class="fab fa-twitter"></i></a></li>
                                                        <li><a href="https://www.linkedin.com/"><i class="fab fa-linkedin-in"></i></a></li>
                                                        <li><a href="https://www.instagram.com/"><i class="fab fa-instagram"></i></a></li>
                                                    </ul>   
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--=============================
        TOPBAR END
    ==============================-->


    <!--=============================
        MENU START
    ==============================-->
    <nav class="navbar navbar-expand-lg main_menu">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="public/uploads/website-images/logo-2022-12-13-05-18-57-4851.png" alt="UniFood" class="img-fluid">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <i class="far fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav m-auto">

                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="https://unifood.websolutionus.com/about-us">About Us</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="https://unifood.websolutionus.com/products">Products</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="#">pages <i class="far fa-plus"></i></a>
                        <ul class="droap_menu">

                            <li>
                                <a href="https://unifood.websolutionus.com/our-chef">Our chef</a>
                            </li>

                            <li><a href="https://unifood.websolutionus.com/testimonial">Testimonial</a></li>

                            <li><a href="https://unifood.websolutionus.com/faq">FAQs</a></li>

                            <li><a href="https://unifood.websolutionus.com/privacy-policy">privacy policy</a></li>
                            <li><a href="https://unifood.websolutionus.com/terms-and-condition">terms and condition</a></li>

                                                        <li><a href="https://unifood.websolutionus.com/page/custom-page-one">Custom Page One</a></li>
                                                        <li><a href="https://unifood.websolutionus.com/page/custom-page-two">Custom Page Two</a></li>
                                                    </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://unifood.websolutionus.com/blogs">Blogs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://unifood.websolutionus.com/contact-us">contact us</a>
                    </li>
                </ul>
                <ul class="menu_icon d-flex flex-wrap">
                    <li>
                        <a href="javascript:;" class="menu_search"><i class="far fa-search"></i></a>
                        <div class="wsus__search_form">
                            <form action="https://unifood.websolutionus.com/products">
                                <span class="close_search"><i class="far fa-times"></i></span>
                                <input name="search" type="text" placeholder="Type your keyword">
                                <button type="submit">search</button>
                            </form>
                        </div>
                    </li>
                                        <li>
                        <a class="cart_icon"><i class="fas fa-shopping-basket"></i> <span class="topbar_cart_qty">2</span></a>
                    </li>
                    <li>
                        <a href="https://unifood.websolutionus.com/dashboard"><i class="fas fa-user"></i></a>
                    </li>
                    <li>
                                                <a class="common_btn" href="#" data-bs-toggle="modal"
                        data-bs-target="#staticBackdrop">reservation</a>
                        
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="wsus__menu_cart_area">
        <div class="wsus__menu_cart_boody">

                            <!-- Cart content will be loaded dynamically -->
            
        </div>
    </div>

            <div class="wsus__reservation">
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="staticBackdropLabel">Book a Table</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form class="wsus__reservation_form" method="POST" action="https://unifood.websolutionus.com/store-reservation">
                                <input type="hidden" name="_token" value="rJ4dfxYZga2e01gQhhzFGY58i2q8TgCjfaopggnj" autocomplete="off">                                                                                                <input class="reservation_input datepicker" type="text" autocomplete="off" name="reserve_date" required placeholder="Select date">

                                <select class="reservation_input" id="select_js" required name="reserve_time">
                                    <option value="">Select Time</option>
                                    <option value="12:00 AM - 01:00 AM">12:00 AM - 01:00 AM</option>
                                    <option value="01:00 AM - 02:00 AM">01:00 AM - 02:00 AM</option>
                                    <option value="02:00 AM - 03:00 AM">02:00 AM - 03:00 AM</option>
                                    <option value="03:00 AM - 04:00 AM">03:00 AM - 04:00 AM</option>
                                    <option value="04:00 AM - 05:00 AM">04:00 AM - 05:00 AM</option>
                                    <option value="05:00 AM - 06:00 AM">05:00 AM - 06:00 AM</option>
                                    <option value="06:00 AM - 07:00 AM">06:00 AM - 07:00 AM</option>
                                    <option value="07:00 AM - 08:00 AM">07:00 AM - 08:00 AM</option>
                                    <option value="08:00 AM - 09:00 AM">08:00 AM - 09:00 AM</option>
                                    <option value="09:00 AM - 10:00 AM">09:00 AM - 10:00 AM</option>
                                    <option value="10:00 AM - 11:00 AM">10:00 AM - 11:00 AM</option>
                                    <option value="11:00 AM - 12:00 PM">11:00 AM - 12:00 PM</option>
                                    <option value="12:00 PM - 01:00 PM">12:00 PM - 01:00 PM</option>
                                    <option value="01:00 PM - 02:00 PM">01:00 PM - 02:00 PM</option>
                                    <option value="02:00 PM - 03:00 PM">02:00 PM - 03:00 PM</option>
                                    <option value="03:00 PM - 04:00 PM">03:00 PM - 04:00 PM</option>
                                    <option value="04:00 PM - 05:00 PM">04:00 PM - 05:00 PM</option>
                                    <option value="05:00 PM - 06:00 PM">05:00 PM - 06:00 PM</option>
                                    <option value="06:00 PM - 07:00 PM">06:00 PM - 07:00 PM</option>
                                    <option value="07:00 PM - 08:00 PM">07:00 PM - 08:00 PM</option>
                                    <option value="08:00 PM - 09:00 PM">08:00 PM - 09:00 PM</option>
                                    <option value="09:00 PM - 10:00 PM">09:00 PM - 10:00 PM</option>
                                    <option value="10:00 PM - 11:00 PM">10:00 PM - 11:00 PM</option>
                                    <option value="11:00 PM - 12:00 AM">11:00 PM - 12:00 AM</option>
                                </select>

                                <input class="reservation_input" type="number" placeholder="Number of person" name="person" required>
                                <button type="submit">Send Request</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--=============================
        MENU END
    ==============================-->


    <!-- CART POPUT START -->
    <div class="wsus__cart_popup">
        <div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-body">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i
                                class="fal fa-times"></i></button>
                        <div class="load_product_modal_response">
                            <img src="public/uploads/website-images/Spinner-1s-200px.gif" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- CART POPUT END -->
    <!--=============================
        OFFER ITEM END
    ==============================-->

    
    <!--=============================
        BREADCRUMB START
    ==============================-->
    <section class="wsus__breadcrumb" style="background: url(https://unifood.websolutionus.com/public/uploads/website-images/breadcrumb_image-2022-12-31-01-18-17-5423.jpg);">
        <div class="wsus__breadcrumb_overlay">
            <div class="container">
                <div class="wsus__breadcrumb_text">
                    <h1>Shopping Cart</h1>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="javascript:;">Shopping Cart</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!--=============================
        BREADCRUMB END
    ==============================-->



    <section class="wsus__cart_view mt_125 xs_mt_95 mb_100 xs_mb_70">
        <div class="container cart-main-body">
                            <div class="row">
                    <div class="col-lg-8 wow fadeInUp" data-wow-duration="1s">
                        <div class="wsus__cart_list">
                            <div class="table-responsive">
                                <table>
                                    <tbody id="cart-table-body">
                                        <tr>
                                            <th class="wsus__pro_img">
                                                Image
                                            </th>

                                            <th class="wsus__pro_name">
                                                details
                                            </th>

                                            <th class="wsus__pro_status">
                                                price
                                            </th>

                                            <th class="wsus__pro_select">
                                                quantity
                                            </th>

                                            <th class="wsus__pro_tk">
                                                total
                                            </th>

                                            <th class="wsus__pro_icon">
                                                <a class="clear_all" href="javascript:;">clear all</a>
                                            </th>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                                            <input type="hidden" id="couon_price" value="0.00">
                        <input type="hidden" id="couon_offer_type" value="0">
                    

                    <div class="col-lg-4 wow fadeInUp" data-wow-duration="1s">
                        <div class="wsus__cart_list_footer_button">
                            <div class="grand_total">
                                <h6>total price</h6>
                                <p>subtotal: <span id="cart-subtotal">$0</span></p>
                                <p>discount (-): <span id="cart-discount">$0</span></p>
                                <p>delivery (+): <span id="cart-delivery">$0.00</span></p>
                                <p class="total"><span>Total:</span> <span id="cart-total">$0</span></p>
                            </div>
                            <form id="coupon_form">
                                <input name="coupon" type="text" placeholder="Coupon Code">
                                <button type="submit">apply</button>
                            </form>
                            <a class="common_btn" href="checkout.html">checkout</a>
                        </div>
                    </div>
                </div>

                    </div>
    </section>



    <script>
        (function($) {
            "use strict";
            $(document).ready(function () {

                // Load cart data when page loads
                loadCartPageData();

                $("#coupon_form").on("submit", function(e){
                    e.preventDefault();

                    $.ajax({
                        type: 'get',
                        data: $('#coupon_form').serialize(),
                        url: "https://unifood.websolutionus.com/apply-coupon",
                        success: function (response) {
                            toastr.success(response.message)
                            $("#coupon_form").trigger("reset");

                            $("#couon_price").val(response.discount);
                            $("#couon_offer_type").val(response.offer_type);

                            calculate_total();
                        },
                        error: function(response) {
                            if(response.status == 422){
                                if(response.responseJSON.errors.coupon)toastr.error(response.responseJSON.errors.coupon[0])
                            }

                            if(response.status == 500){
                                toastr.error("Server error occured")
                            }

                            if(response.status == 403){
                                toastr.error(response.responseJSON.message)
                            }
                        }
                    });
                })
                $("#add_to_cart").on("click", function(e){
                    e.preventDefault();
                    if ($("input[name='size_variant']").is(":checked")) {
                        $("#add_to_cart_form").submit();
                    } else {
                        toastr.error("Please select a size")
                    }
                });

                $("input[name='size_variant']").on("change", function(){
                    $("#variant_price").val($(this).data('variant-price'))
                    calculatePrice()
                })

                $("input[name='optional_items[]']").change(function() {
                    calculatePrice()
                });

                $(document).on('click', '.increament_product', function(){
                    let parent_td = $(this).parents('td');
                    let item_price = parent_td.data('item-price');
                    let optional_price = parent_td.data('optional-price') || 0;
                    let quantity = parent_td.find('.quantity').val();
                    let new_qty = parseInt(quantity) + 1;
                    parent_td.find('.quantity').val(new_qty);
                    let new_sub_total_price = new_qty * item_price + optional_price;
                    let parent_tr = parent_td.parents('tr');
                    let product_sub_total_html = `<h6>$${new_sub_total_price}</h6> <input type="hidden" class="product_total" value="${new_sub_total_price}">`;
                    parent_tr.find('.wsus__pro_tk').html(product_sub_total_html);

                    let rowid = parent_td.data('rowid');
                    $(".mini-price-"+rowid).html(`$${new_sub_total_price}`);
                    $(".set-mini-input-price-"+rowid).val(new_sub_total_price);
                    
                    // Update totals immediately
                    updateCartTotals();
                    updateMiniCartTotals();
                    
                    // Send update to server
                    update_item_qty(rowid, new_qty);
                })

                $(document).on('click', '.decrement_product', function(){
                    let parent_td = $(this).parents('td');
                    let item_price = parent_td.data('item-price');
                    let optional_price = parent_td.data('optional-price') || 0;
                    let quantity = parent_td.find('.quantity').val();
                    if(quantity <= 1) return;
                    let new_qty = parseInt(quantity) - 1;
                    parent_td.find('.quantity').val(new_qty);
                    let new_sub_total_price = new_qty * item_price + optional_price;
                    let parent_tr = parent_td.parents('tr');
                    let product_sub_total_html = `<h6>$${new_sub_total_price}</h6> <input type="hidden" class="product_total" value="${new_sub_total_price}">`;
                    parent_tr.find('.wsus__pro_tk').html(product_sub_total_html);

                    let rowid = parent_td.data('rowid');
                    $(".mini-price-"+rowid).html(`$${new_sub_total_price}`);
                    $(".set-mini-input-price-"+rowid).val(new_sub_total_price);
                    
                    // Update totals immediately
                    updateCartTotals();
                    updateMiniCartTotals();
                    
                    // Send update to server
                    update_item_qty(rowid, new_qty);
                })

                $(document).on('click', '.remove_item', function(){
                    let parernt_td = $(this).parents('td');
                    let rowid = parernt_td.data('remove-rowid');
                    let parent_tr = parernt_td.parents('tr');
                    parent_tr.remove();
                    calculate_total();
                    remove_mini_item(rowid)

                    $.ajax({
                        type: 'DELETE',
                        url: "/remove-from-cart/" + rowid,
                        success: function (response) {
                            toastr.success(response.message);
                            loadCartPageData(); // Reload cart data
                        },
                        error: function(response) {
                            if(response.status == 500){
                                toastr.error("Server error occured")
                            }

                            if(response.status == 403){
                                toastr.error("Server error occured")
                            }
                        }
                    });

                })

                $(".clear_all").on("click", function(){

                    let empty_cart = `<div class="row">
                        <div class="col-12 wow fadeInUp" data-wow-duration="1s">
                            <h3 class="text-center cart_empty_text">Your shopping cart is empty!</h3>
                        </div>
                    </div>`;

                    let mini_empty_cart = `<div class="wsus__menu_cart_header">
                                    <h5>Your shopping cart is empty!</h5>
                                    <span class="close_cart"><i class="fal fa-times"></i></span>
                                </div>
                                `;

                    $(".cart-main-body").html(empty_cart)
                    $(".wsus__menu_cart_boody").html(mini_empty_cart)
                    $(".topbar_cart_qty").html(0);

                    $.ajax({
                        type: 'DELETE',
                        url: "/clear-cart",
                        success: function (response) {
                            toastr.success(response.message);
                        },
                        error: function(response) {
                            if(response.status == 500){
                                toastr.error("Server error occured")
                            }

                            if(response.status == 403){
                                toastr.error("Server error occured")
                            }
                        }
                    });
                })



            });
        })(jQuery);

        function update_item_qty(rowid, quantity){
            calculate_total();
            $.ajax({
                type: 'PUT',
                data: {quantity: quantity},
                url: "/update-cart-quantity/" + rowid,
                success: function (response) {

                },
                error: function(response) {
                    if(response.status == 500){
                        toastr.error("Server error occured")
                    }

                    if(response.status == 403){
                        toastr.error("Server error occured")
                    }
                }
            });
        }

        function calculate_total(){
            let sub_total = 0;
            let coupon_price = $("#couon_price").val();
            let couon_offer_type = $("#couon_offer_type").val();


            let total_item = 0;
            $(".product_total").each(function () {
                let current_val = $(this).val();
                sub_total = parseInt(sub_total) + parseInt(current_val);
                total_item = parseInt(total_item) + parseInt(1);
            });


            let apply_coupon_price = 0.00;
            if(couon_offer_type == 1) {
                let percentage = parseInt(coupon_price) / parseInt(100)
                apply_coupon_price = (parseFloat(percentage) * parseFloat(sub_total));
            }else if(couon_offer_type == 2) {
                apply_coupon_price = coupon_price;
            }

            let grand_total = parseInt(sub_total) - parseInt(apply_coupon_price);
            let total_html = `<h6>total cart</h6>
                            <p>subtotal: <span>$${sub_total}</span></p>
                            <p>discount (-): <span>$${apply_coupon_price}</span></p>
                            <p>delivery (+): <span>$0.00</span></p>
                            <p class="total"><span>Total:</span> <span>$${grand_total}</span></p>`;
            $(".grand_total").html(total_html);
            $(".mini_sub_total").html(`$${sub_total}`);

            let empty_cart = `<div class="row">
                    <div class="col-12 wow fadeInUp" data-wow-duration="1s">
                        <h3 class="text-center cart_empty_text">Your shopping cart is empty!</h3>
                    </div>
                </div>`;

            let mini_empty_cart = `<div class="wsus__menu_cart_header">
                <h5>Your shopping cart is empty!</h5>
                <span class="close_cart"><i class="fal fa-times"></i></span>
            </div>
            `;

            if(total_item == 0){
                $(".cart-main-body").html(empty_cart)
                $(".wsus__menu_cart_boody").html(mini_empty_cart)
            }

            $(".topbar_cart_qty").html(total_item);

        }

        function remove_mini_item(rowid){
            $(".min-item-"+rowid).remove();
        }

        function loadCartPageData() {
            $.ajax({
                url: '/cart-data',
                method: 'GET',
                success: function(response) {
                    if (response.success) {
                        displayCartItems(response.cartItems);
                        updateCartTotals(response.cartItems);
                        loadMiniCart(response.cartItems);
                    } else {
                        showEmptyCart();
                    }
                },
                error: function() {
                    // Show empty cart if error
                    showEmptyCart();
                }
            });
        }

        function displayCartItems(cartItems) {
            const cartTableBody = $('#cart-table-body');

            // Keep the header row
            const headerRow = cartTableBody.find('tr').first();
            cartTableBody.empty().append(headerRow);

            if (cartItems.length === 0) {
                showEmptyCart();
                return;
            }

            cartItems.forEach(function(item) {
                const extrasHTML = item.extras && item.extras.length > 0 
                    ? item.extras.map(extra => `<p>${extra}</p>`).join('') 
                    : '';

                const row = `
                    <tr class="main-cart-item-${item.id}">
                        <td class="wsus__pro_img">
                            <img src="${item.image}" alt="product" class="img-fluid w-100">
                        </td>
                        <td class="wsus__pro_name">
                            <a href="#">${item.name}</a>
                            <span>${item.size}</span>
                            ${extrasHTML}
                        </td>
                        <td class="wsus__pro_status">
                            <h6>$${item.base_price}</h6>
                        </td>
                        <td class="wsus__pro_select" data-item-price="${item.base_price}" data-optional-price="0" data-rowid="${item.id}">
                            <div class="quentity_btn">
                                <button class="btn btn-danger decrement_product" type="button"><i class="fal fa-minus"></i></button>
                                <input class="quantity" type="text" readonly value="${item.quantity}">
                                <button class="btn btn-success increament_product" type="button"><i class="fal fa-plus"></i></button>
                            </div>
                        </td>
                        <td class="wsus__pro_tk">
                            <h6>$${item.price}</h6>
                            <input type="hidden" class="product_total" value="${item.price}">
                        </td>
                        <td class="wsus__pro_icon" data-remove-rowid="${item.id}">
                            <a class="remove_item" href="javascript:;"><i class="far fa-times"></i></a>
                        </td>
                    </tr>
                `;
                cartTableBody.append(row);
            });
        }

        function updateCartTotals(cartItems) {
            const subtotal = cartItems.reduce((sum, item) => sum + item.price, 0);
            const discount = 0;
            const delivery = 0;
            const total = subtotal - discount + delivery;

            $('#cart-subtotal').text('$' + subtotal);
            $('#cart-discount').text('$' + discount);
            $('#cart-delivery').text('$' + delivery.toFixed(2));
            $('#cart-total').text('$' + total);
        }

        function showEmptyCart() {
            $('.cart-main-body').html(`
                <div class="row">
                    <div class="col-12 wow fadeInUp" data-wow-duration="1s">
                        <h3 class="text-center cart_empty_text">Your shopping cart is empty!</h3>
                    </div>
                </div>
            `);
        }

        function loadMiniCart(cartItems) {
            const miniCartBody = $('.wsus__menu_cart_boody');
            
            if (cartItems.length === 0) {
                miniCartBody.html(`
                    <div class="wsus__menu_cart_header">
                        <h5>Your shopping cart is empty!</h5>
                        <span class="close_cart"><i class="fal fa-times"></i></span>
                    </div>
                `);
                $('.topbar_cart_qty').text('0');
                return;
            }

            const totalItems = cartItems.length;
            const subtotal = cartItems.reduce((sum, item) => sum + item.price, 0);

            let miniCartHTML = `
                <div>
                    <div class="wsus__menu_cart_header">
                        <h5 class="mini_cart_body_item">Total Item(${totalItems})</h5>
                        <span class="close_cart"><i class="fal fa-times"></i></span>
                    </div>
                    <ul class="mini_cart_list">
            `;

            cartItems.forEach(function(item) {
                const extrasHTML = item.extras && item.extras.length > 0 
                    ? `<span class="extra">${item.extras.join(', ')}</span>` 
                    : '';

                miniCartHTML += `
                    <li class="min-item-${item.id}" data-mini-item-rowid="${item.id}">
                        <div class="menu_cart_img">
                            <img src="${item.image}" alt="menu" class="img-fluid w-100">
                        </div>
                        <div class="menu_cart_text">
                            <a class="title" href="#">${item.name}</a>
                            <p class="size">${item.size}</p>
                            ${extrasHTML}
                            <p class="price mini-price-${item.id}">$${item.price}</p>
                        </div>
                        <input type="hidden" class="mini-input-price set-mini-input-price-${item.id}" value="${item.price}">
                        <span class="del_icon mini-item-remove"><i class="fal fa-times"></i></span>
                    </li>
                `;
            });

            miniCartHTML += `
                    </ul>
                    <p class="subtotal">Sub Total <span class="mini_sub_total">$${subtotal}</span></p>
                    <a class="cart_view" href="cart.html">view cart</a>
                    <a class="checkout" href="checkout.html">checkout</a>
                </div>
            `;

            miniCartBody.html(miniCartHTML);
            $('.topbar_cart_qty').text(totalItems);
        }

        function updateCartTotals() {
            let subtotal = 0;
            $('.product_total').each(function() {
                subtotal += parseInt($(this).val());
            });
            
            const discount = 0;
            const delivery = 0;
            const total = subtotal - discount + delivery;

            $('#cart-subtotal').text('$' + subtotal);
            $('#cart-discount').text('$' + discount);
            $('#cart-delivery').text('$' + delivery.toFixed(2));
            $('#cart-total').text('$' + total);
        }

        function updateMiniCartTotals() {
            let subtotal = 0;
            let totalItems = 0;
            $('.mini-input-price').each(function() {
                subtotal += parseInt($(this).val());
                totalItems++;
            });
            
            $('.mini_sub_total').text('$' + subtotal);
            $('.topbar_cart_qty').text(totalItems);
            $('.mini_cart_body_item').text(`Total Item(${totalItems})`);
        }

    </script>


    <!--=============================
        BRAND START
    ==============================-->
    <section class="wsus__brand" style="background: url(https://unifood.websolutionus.com/public/uploads/website-images/counter-bg-2023-03-06-09-34-36-3312.jpg);">
        <div class="wsus__brand_overlay">
            <div class="container">
                <div class="row brand_slider wow fadeInUp" data-wow-duration="1s">
                                            <div class="col-xl-2">
                                                        <a class="wsus__single_brand" href="javascript:;">
                                <img src="https://unifood.websolutionus.com/public/uploads/custom-images/partner-2023-03-05-04-35-57-4275.png" alt="brand" class="img-fluid w-100">
                            </a>
                            
                        </div>
                                            <div class="col-xl-2">
                                                        <a class="wsus__single_brand" href="javascript:;">
                                <img src="https://unifood.websolutionus.com/public/uploads/custom-images/partner-2023-03-05-04-36-05-2512.png" alt="brand" class="img-fluid w-100">
                            </a>
                            
                        </div>
                                            <div class="col-xl-2">
                                                        <a class="wsus__single_brand" href="javascript:;">
                                <img src="https://unifood.websolutionus.com/public/uploads/custom-images/partner-2023-03-05-04-36-15-7213.png" alt="brand" class="img-fluid w-100">
                            </a>
                            
                        </div>
                                            <div class="col-xl-2">
                                                        <a class="wsus__single_brand" href="javascript:;">
                                <img src="https://unifood.websolutionus.com/public/uploads/custom-images/partner-2023-03-05-04-36-24-3552.png" alt="brand" class="img-fluid w-100">
                            </a>
                            
                        </div>
                                            <div class="col-xl-2">
                                                        <a class="wsus__single_brand" href="javascript:;">
                                <img src="https://unifood.websolutionus.com/public/uploads/custom-images/partner-2023-03-05-04-36-34-1671.png" alt="brand" class="img-fluid w-100">
                            </a>
                            
                        </div>
                                            <div class="col-xl-2">
                                                        <a class="wsus__single_brand" href="javascript:;">
                                <img src="https://unifood.websolutionus.com/public/uploads/custom-images/partner-2023-03-05-04-36-42-1713.png" alt="brand" class="img-fluid w-100">
                            </a>
                            
                        </div>
                                    </div>
            </div>
        </div>
    </section>
    <!--=============================
        BRAND END
    ==============================-->


    <!--=============================
        FOOTER START
    ==============================-->
    <footer style="background: url(https://unifood.websolutionus.com/public/uploads/website-images/footer_background-2022-12-13-12-06-33-5633.jpg);">
        <div class="footer_overlay pt_100 xs_pt_70 pb_100 xs_pb_70">
            <div class="container wow fadeInUp" data-wow-duration="1s">
                <div class="row justify-content-between">
                    <div class="col-lg-4 col-sm-8 col-md-6">
                        <div class="wsus__footer_content">
                            <a class="footer_logo" href="index.html">
                                <img src="public/uploads/website-images/footer_logo-2022-12-13-05-17-08-5906.png" alt="UniFood" class="img-fluid w-100">
                            </a>
                            <span>There are many variations of Lorem Ipsum available, but the majority have suffered.</span>
                            <p class="info"><i class="far fa-map-marker-alt"></i> 7232 Broadway 308, United States</p>
                            <a class="info" href="callto:+1347-430-9510"><i class="fas fa-phone-alt"></i>
                                +1347-430-9510</a>
                            <a class="info" href="mailto:websolutionus1@gmail.com"><i class="fas fa-envelope"></i>
                                websolutionus1@gmail.com</a>
                        </div>
                    </div>
                    <div class="col-lg-2 col-sm-4 col-md-6">
                        <div class="wsus__footer_content">
                            <h3>Important Link</h3>
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="https://unifood.websolutionus.com/about-us">About Us</a></li>
                                <li><a href="https://unifood.websolutionus.com/contact-us">Contact Us</a></li>
                                <li><a href="https://unifood.websolutionus.com/our-chef">Our Chef</a></li>
                                <li><a href="https://unifood.websolutionus.com/our-chef">Dashboard</a></li>

                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-2 col-sm-4 col-md-6 order-sm-4 order-lg-3">
                        <div class="wsus__footer_content">
                            <h3>Help Link</h3>
                            <ul>
                                <li><a href="https://unifood.websolutionus.com/blogs">Our Blogs</a></li>
                                <li><a href="https://unifood.websolutionus.com/testimonial">Testimonial</a></li>
                                <li><a href="https://unifood.websolutionus.com/faq">FAQ</a></li>
                                <li><a href="https://unifood.websolutionus.com/privacy-policy">Privacy and Policy</a></li>
                                <li><a href="https://unifood.websolutionus.com/terms-and-condition">Terms anc Conditions</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4 col-sm-8 col-md-6 order-lg-4">
                        <div class="wsus__footer_content">
                            <h3>Subscribe to Newsletter</h3>
                            <form id="subscribe_form">
                                <input type="hidden" name="_token" value="rJ4dfxYZga2e01gQhhzFGY58i2q8TgCjfaopggnj" autocomplete="off">                                <input type="email" placeholder="Email" name="email">
                                <button id="subscribe_btn" type="submit"><i class="fas fa-paper-plane"></i></button>
                            </form>
                            <div class="wsus__footer_social_link">
                                <h5>Follow us:</h5>
                                <ul class="d-flex flex-wrap">
                                                                        <li><a href="https://www.facebook.com/"><i class="fab fa-facebook-f"></i></a></li>
                                                                        <li><a href="https://www.twitter.com/"><i class="fab fa-twitter"></i></a></li>
                                                                        <li><a href="https://www.linkedin.com/"><i class="fab fa-linkedin-in"></i></a></li>
                                                                        <li><a href="https://www.instagram.com/"><i class="fab fa-instagram"></i></a></li>
                                                                    </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="wsus__footer_bottom d-flex flex-wrap">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="wsus__footer_bottom_text d-flex flex-wrap justify-content-between">
                            <p>Â©2024 websolutionus All rights reserved</p>
                            <ul class="d-flex flex-wrap">
                                <li><a href="faq">FAQ</a></li>
                                <li><a href="payment">Payment</a></li>
                                <li><a href="checkout">Checkout</a></li>
                                <li><a href="dashboard">Dashboard</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--=============================
        FOOTER END
    ==============================-->


    <!--=============================
        SCROLL BUTTON START
    ==============================-->
    <div class="wsus__scroll_btn">
        Go to top
    </div>
    <!--=============================
        SCROLL BUTTON END
    ==============================-->

        <script type="text/javascript">
        var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
        (function(){
            var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
            s1.async=true;
            s1.src='https://embed.tawk.to/612dc781d6e7610a49b2d444/1fedd6l9m';
            s1.charset='UTF-8';
            s1.setAttribute('crossorigin','*');
            s0.parentNode.insertBefore(s1,s0);
        })();
    </script>
    

    

    <!--bootstrap js-->
    <script src="public/user/js/bootstrap.bundle.min.js"></script>
    <!--font-awesome js-->
    <script src="public/user/js/Font-Awesome.js"></script>
    <!-- slick slider -->
    <script src="public/user/js/slick.min.js"></script>
    <!-- isotop js -->
    <script src="public/user/js/isotope.pkgd.min.js"></script>
    <!-- simplyCountdownjs -->
    <script src="public/user/js/simplyCountdown.js"></script>
    <!-- counter up js -->
    <script src="public/user/js/jquery.waypoints.min.js"></script>
    <script src="public/user/js/jquery.countup.min.js"></script>
    <!-- nice select js -->
    <script src="public/user/js/jquery.nice-select.min.js"></script>
    <!-- venobox js -->
    <script src="public/user/js/venobox.min.js"></script>
    <!-- sticky sidebar js -->
    <script src="public/user/js/sticky_sidebar.js"></script>
    <!-- wow js -->
    <script src="public/user/js/wow.min.js"></script>
    <!-- ex zoom js -->
    <script src="public/user/js/jquery.exzoom.js"></script>

    <script src="public/backend/js/bootstrap-datepicker.min.js"></script>

    <!--main/custom js-->
    <script src="public/user/js/main.js"></script>
    <script src="public/user/js/cart-functionality.js"></script>

    <script src="public/toastr/toastr.min.js"></script>
    <script src="public/backend/js/select2.min.js"></script>

    <script>
            </script>

    
<script>
    (function($) {
        "use strict";
        $(document).ready(function () {
            
            $("#setLanguage").on('change', function(e){
                this.submit();
            });
            
            $(".first_menu_product").click();

            $('.select2').select2();
            $('.modal_select2').select2({
                dropdownParent: $("#address_modal")
            });

            $('.datepicker').datepicker({
                format: 'yyyy-mm-dd',
                startDate: '-Infinity'
            });

            $(document).on('click', '.mini-item-remove', function () {
                let root_li = $(this).parents('li');
                let rowid = root_li.data('mini-item-rowid');
                root_li.remove();

                let is_cart_page = "yes";
                if(is_cart_page == 'yes'){
                    $(".main-cart-item-"+rowid).remove();
                    calculate_total();
                }

                calculate_mini_total();

                $.ajax({
                    type: 'DELETE',
                    url: "/remove-from-cart/" + rowid,
                    success: function (response) {
                        toastr.success(response.message);
                        // Reload cart data after removing item
                        loadCartPageData();
                    },
                    error: function(response) {
                        if(response.status == 500){
                            toastr.error("Server error occured")
                        }

                        if(response.status == 403){
                            toastr.error("Server error occured")
                        }
                    }
                });
            });
    
            $("#subscribe_form").on('submit', function(e){
                    e.preventDefault();
                    var isDemo = "0"
                    if(isDemo == 0){
                        toastr.error('This Is Demo Version. You Can Not Change Anything');
                        return;
                    }

                    $("#subscribe_btn").prop("disabled", true);
                    $("#subscribe_btn").html(`<i class="fas fa-spinner"></i>`);

                    $.ajax({
                        type: 'POST',
                        data: $('#subscribe_form').serialize(),
                        url: "https://unifood.websolutionus.com/subscribe-request",
                        success: function (response) {
                            toastr.success(response.message)
                            $("#subscribe_form").trigger("reset");
                            $("#subscribe_btn").prop("disabled", false);
                            $("#subscribe_btn").html(`<i class="fas fa-paper-plane"></i>`);
                        },
                        error: function(response) {
                            $("#subscribe_btn").prop("disabled", false);
                            $("#subscribe_btn").html(`<i class="fas fa-paper-plane"></i>`);

                            if(response.status == 403){
                                if(response.responseJSON.message)toastr.error(response.responseJSON.message)
                            }
                        }
                    });
                })
        });
    })(jQuery);

    function calculate_mini_total(){
        let mini_sub_total = 0;
        let mini_total_item = 0;
        $(".mini-input-price").each(function () {
            let current_val = $(this).val();
            mini_sub_total = parseInt(mini_sub_total) + parseInt(current_val);
            mini_total_item = parseInt(mini_total_item) + parseInt(1);
        });

        $(".mini_sub_total").html(`$${mini_sub_total}`);
        $(".topbar_cart_qty").html(mini_total_item);
        $(".mini_cart_body_item").html(`Total Item(${mini_total_item})`);

        let mini_empty_cart = `<div class="wsus__menu_cart_header">
                <h5>Your shopping cart is empty!</h5>
                <span class="close_cart"><i class="fal fa-times"></i></span>
            </div>
            `;

        if(mini_total_item == 0){
            $(".wsus__menu_cart_boody").html(mini_empty_cart)
        }
    }

    function load_product_model(product_id){

        $("#preloader").addClass('preloader')
        $(".img").removeClass('d-none')

        $.ajax({
            type: 'get',
            url: "https://unifood.websolutionus.com/load-product-modal" + "/" + product_id,
            success: function (response) {
                $("#preloader").removeClass('preloader')
                $(".img").addClass('d-none')
                $(".load_product_modal_response").html(response)
                $("#cartModal").modal('show');
            },
            error: function(response) {
                toastr.error("Server error occured")
            }
        });
    }

    function add_to_wishlist(id){
        $.ajax({
            type: 'get',
            url: "https://unifood.websolutionus.com/add-to-wishlist" + "/" + id,
            success: function (response) {
                toastr.success("Wishlist added successfully");
            },
            error: function(response) {
                if(response.status == 500){
                    toastr.error("Server error occured")
                }

                if(response.status == 403){
                    toastr.error(response.responseJSON.message)
                }
            }
        });
    }
    function before_auth_wishlist(){
        toastr.error("Please login first")
    }
</script>

</body>

</html>